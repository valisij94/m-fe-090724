# README

## Практическое занятие №26

### Тема:

Репозитарий содержит материалы по практическому занятию №26, посвященному комплексному повторению - работе с локальным состоянием, пропсами, и жизненным циклом компонентов.

### Цели занятия
- закрепление знаний, полученных на лекции;
- разбор практических примеров;
- практическое применение полученных знаний.

### Разогрев
1. Какое значение будет выведено в параграфе, после того как на кнопку нажмут 2 раза?
```
export default function Counter() {

  let [counter, setCounter] = useState(0);

  const handleClick = () => {
    counter = counter + 1;
  }
  return (
    <div>
      <p>{counter}</p>
      <button onClick={handleClick}>Clickk me!</button>
    </div>
  );
}
```

2. Какое значение будет выведено в параграфе, после того как на кнопку нажмут 2 раза?
```
export default function Counter() {

  const [counter, setCounter] = useState(0);

  const handleClick = () => {
    setCounter(counter + 1);
    setCounter(counter + 1);
    setCounter(counter + 1);
  }
  return (
    <div>
      <p>{counter}</p>
      <button onClick={handleClick}>Clickk me!</button>
    </div>
  );
}
```

3. Будет ли нормально работать компонент?
```
export default function SimpleComponent() {

  const [data, setData] = useState( {name: '', lastname: ''} );

  useEffect( () => {
    setData( {name: 'Timon', lastname: 'Timonov'} );
  }, []);

  return (
    <div>
      <p>{data.name} {data.lastname}</p>
    </div>
  );
}
```

### Задачи занятия
1. Создадим компонент `AddProduct`, его задачей будет создавать форму для добавления нового товара. Она будет содержать инпут для названия, выпадающий список для категории, инпут для описания товара, и инпут для цены. Также, она должна содержать кнопку. Пока что при нажатии на кнопку, ничего не делаем. Категории берем также с бэка (возможно, имеет смысл сделать рефакторинг, потому что у нас категории уже есть в `Filter`).
2. Делаем валидацию формы. Нужно, чтобы поля названия и описания были бы непустые. Если какое-то из полей пустое - то под ним нужно выводить сообщение "Заполните это поле".
3. Немного усложним валидацию - сделаем так, чтобы в поле цены можно было бы ввести только число. Имеет смысл воспользоваться регулярными выражениями (или просто проверять что это число).
4. И еще немного усложним валидацию - добавим минимальную длину для описания (5 символов), и максимальную (20 символов). Если это не выполняется - под полем описания показываем соответствующие сообщения.
5. Делаем отправку формы. Наша задача - сформировать JSON-объект, со свойствами title, category, price, description, и отправить его методом POST на адрес `https://dummyjson.com/products/add`
6. Работаем с блоком фильтра товаров. Добавим в блок фильтрации инпут для ввода названия, чтобы фильтровать товары еще и по названию. Рекомендуется сравнивать без учета регистра. Также, нужно добавить в блок фильтрации кнопку "применить фильтр", и фильтровать товары при клике на нее.
7. Еще усложним - добавим фильтр по диапазону цен. Нужно добавить еще 2 инпута: цена от и цена до. При этом, при нажатии на "применить фильтр", нужно делать валидацию - то есть проверять, что цена от не больше цены до. Если есть проблема - рендерим параграф с описанием ошибки.

### Полезные ссылки по занятию:
 - [React useEffect](https://react.dev/reference/react/useEffect#updating-state-based-on-previous-state-from-an-effect) - толковая официальная документация по `useEffect`. С интерактивными примерами, поэтому настоятельно рекомендуется к просмотру. Кое-что там можно проигнорировать (например использование анимации), но в целом дает представление о том, зачем это.
 - [React useEffect](https://ru.legacy.reactjs.org/docs/hooks-effect.html) - устаревшая, зато русскоязычная документация. Она все еще актуальна, логика работы хука никак не изменилась, так что можно рассмотреть.